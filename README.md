# simple-wb-parsing

## Описать в общих чертах как бы выстроил асинхронный парсинг большого количества товаров. Всей категории, например
- Используем сущность `Runner`, для запуска конечной цепочки парсинга всей необходимой информации об ОДНОМ конкретном товаре
- Так же, создаём ещё более высокоуровневую сущность чем `Runner`, она будет отвечать за группировку множества раннеров в некоторые батчи
  конкретного размера, например по 100 или 1000 или более штук. Точное значение проще подбирать эмперически
- В этой сущности реализовываем не слишком сложный функционал для создания break points или save points, для того что бы понимать в какой момент парсеры упали
- В целом, на каждый batch из `Runner` достаточно одного save point с учетом того с какой скоростью запросы выполняются
- Батч из `Runner` можно запускать в асинхронном режиме, но при этом за раз работает не более одного батча
- Так же ведём лог и отслеживаем в высокоуровневой сущности, количество ошибок/падений парсеров, при достижении определённого
    порога числа падений/некорректных ответов от ресурса приостанавливаем запуск батча и/или начинаем менять user-agent, 
    использовать socks прокси и тд. Необходимый порог так же вычислим имперически, достаточно просто начать очень активно
    стучаться в апи вайлдберрис и ждать пока тебя отрубят.

*Потенциальный проблемы и сложности:*
- хорошо работающий и стабильный функционал save point не очень легко реализовать)
- возможно такое решение слишком простое а в WB система защиты от парсинга мудрёнее, таким образом выбрав этот путь и 
    поспешив можно сесть в лужу ))

В любом случае нужен какой то предварительный анализ устройства их api
